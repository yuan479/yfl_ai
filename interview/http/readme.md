# http 各个版本的特性

  - OSI 七层协议
  - 基于TCP/IP
  - 三次握手/四次挥手
  - http/https
  - 浏览器缓存
  - TCP 和 UDP 的区别
 
  - http 各个版本的特性
    - http 0.9 无状态
      最早的版本，只支持get请求，响应只有HTML文本，没有header，只能传输简单网页，不能传递图片、css、js
      image/jpg text/css text/js
    
    - http 1.0 无连接
      引入了请求头header，能传输多种类型的数据，支持传输图片、css、js
      虽然有cookie，但仍然是无状态的
      缺点：
      - 每次请求都要建立TCP 连接，连接建立后会一直保持，直到请求结束
        开销浪费，同域名下的资源都是共享同一个TCP 连接，因为早期用户并不多
        http是一种基于请求响应的简单协议 TCP连接还要断开

      
    - http 1.1 持久连接
      - 用户多，一定要解决TCP连接每次都重新建立的问题
      - 推出了长链接
        Connection:keep-alive
        一个TCP可以处理多个请求，浏览器通过一个TCP链接连续请求
        页面图片脚本等多个资源，服务器处理完不会立即断开，而是保持链接，后续请求无需重新建立链接，节省时间和性能开销，提高加载速度

      - 管道化pipelining
        允许同时发送多个请求，但是响应必须按顺序返回

      - 数据分块传输 chuck
        

        你用支持管道化的浏览器，依次发送 获取首页，图片1，图片2，图片3...
        等待前一个响应，但服务器必须按顺序处理请求，所以图片1必须先返回，才能返回图片2，图片3...

        TCP可靠的传输，一个通信的多个数据包，按顺序、全部到达浏览器
        但是没能实现真正的并发，TCP安全，响应式还是顺序传输
        缺点：如果排在前面的资源传输慢，后面的资源会被阻塞，

        - 路由懒加载，分包
          App.jsx 不同的文件
          Login.jsx 不同的文件
          路由懒加载，只有访问到这个路由，才会加载对应的文件，不会一次性加载所有的文件，减少了初始加载时间
          分包，把不同的文件打包成不同的文件，只有访问到这个文件，才会加载对应的文件，不会一次性加载所有的文件，减少了初始加载时间
        - http 优化，图片懒加载
          js.css/img 过多，不拆分，反而合并文件
          同一个域名请求并发的上限是6个，超过6个，会被阻塞，
        - base64 图片 放在html/css文件中，减少请求
        - 图标字体库 iconfont
        - 开启压缩
        - 使用多个域名 一般在静态资源的CDN服务器上，
          https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f69107522d864bb9b6d7eec9c58dc84f~tplv-k3u1fbpfcp-jj:207:138:0:0:q75.avis
          将资源分布在不同的子域名下，Domain sharding 域名分片
        - 浏览器缓存
          - 强缓存：Expires/Cache-Control
          - 协商缓存：Last-Modified/If-Modified-Since/Etag/If-None-Match

    - http 2.0 多路复用
      - 并发，多路复用
        一个TCP链接上并发多个请求，不再对头阻塞
        多路复用把数据拆成帧交错传输，请求和响应可以乱序发送，客户端可以根据帧的编号重新组装
      - 二进制数据帧：
        所有请求和响应都拆分成小数据帧，通过一个链接并发传输，每个帧带有编号，可以指定是哪个文件，客户端也可以根据编号重组，无需排队甚至可以插队，谁先准备好就先发送，解决了队头阻问题
        头部压缩，减少重复header传输，服务器端推送server push
        服务器端可主动推送资源，比如首页get/返回很快，但首屏还依赖app.css

      - 页面快速显示

    - http 3.0 QUIC
      - 基于UDP协议，UDP是无连接的，传输速度快，但是不可靠，TCP可靠
      - 多路复用，每个流都有自己的ID，不需要排队
      - 加密传输，TLS 1.3



    - GET 和 POST 的区别
        - 用途不同：
            GET 用于获取资源，POST 用于提交数据
            我在开发中会结合RestFul 协议标准开发（一切皆资源）
            PATH/PUT 修改， DELETE 删除， GET 查询， POST 创建， OPTION 预检请求， HEAD 文件的信息
        - 数据传输方式
            GET url params 或 queryString 明文传输，不安全，长度有限制，
            POST 请求体 相对安全 
        - 安全性
            GET 不安全 缓存
            POST 相对安全，但还是要启用https 加密传输
        - 数据长度限制
            GET 受URL 长度限制，2048 个字节，不适合传输大量数据，
            POST 没有长度限制，适合传输大量数据，比如大文件上传
        - 幂等性
            GET 幂等，多次请求相同的URL 不会改变服务器状态，
            POST 非幂等，可能创建新资源或修改，
        - 缓存与书签
            GET 可以缓存，可以收藏为书签
            POST 不可以缓存，不能收藏为书签
        - 状态码
            GET 200
            POST 201
      
