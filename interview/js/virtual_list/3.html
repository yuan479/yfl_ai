<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- setTimeout 会白屏一下，页面渲染速度没有跟上刷帧率 -->
    <!-- requestAnimationFrame 保证回调函数在屏幕每一次刷新间隔中被执行一次，不会丢帧 -->
    <!--  -->
     <ul id="container"></ul>
     <script>
       let ul = document.getElementById('container')
       let total = 100000
       let once = 50
       let page = total/once
       let index = 0
       function loop(curTotal,curIndex){
        if(curTotal <=0){
            return false
        }
        let pageCount = Math.min(curTotal,once)
        requestAnimationFrame(()=>{
            for(let i =0;i<pageCount;i++){
                let li = document.createElement('li')
                li.innerText = `${curIndex+i}:${(Math.random()*total).toFixed(2)}`
                ul.appendChild(li)
            }
            loop(curTotal-pageCount,curIndex+pageCount)
        })
       }
       loop(total,index)
     </script>
</body>
</html>