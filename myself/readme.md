你是一个资深的程序员，你要设计一个碰碰球的小游戏，以下是游戏的要求：
一、游戏框架搭建
游戏场景
创建矩形对称战场（建议尺寸800x600像素）
设置四周边墙作为不可穿透障碍
在屏幕两侧各划分一个安全区域：
玩家区（左侧1/3区域）：用于小球蓄力发射
AI区（右侧1/3区域）：AI小球默认待命区域
添加顶部状态栏显示：
双方小球实时生命值
当前回合倒计时（建议15秒/回合）
小球配置
每方生成3个不同颜色小球（如红黄蓝/青蓝紫）
基础属性分配：
属性	玩家小球	AI小球
生命值	80-120	70-110
攻击力	2-4	1-3
弹性系数	0.85-0.95	0.8-0.9
初始速度	0	0
二、核心交互设计
玩家操作
蓄力发射机制：
长按鼠标左键选择可移动小球（半径30像素内）
拖动过程中显示虚线轨迹预判
松开鼠标后根据拖拽距离和方向赋予速度：
拖拽距离：决定速度大小（建议1单位长度=0.5像素/帧）
拖拽方向：决定运动方向（需修正坐标系差异）
冷却机制：
每次发射后小球进入5秒冷却期
冷却期间显示半透明效果
AI行为逻辑
基础AI策略：
优先攻击最近的敌方小球（距离<150像素）
若无目标则向随机方向移动
每2秒自动发射一次
小球死亡后1秒内在本方区域重生
进阶策略（可选）：
根据玩家小球血量选择攻击目标（优先击杀低血量）
避开即将碰撞的危险区域
三、物理系统实现
碰撞检测
球体碰撞：
实时检测两球间距（当距离<球体半径之和时触发）
碰撞后速度交换计算：
根据动量守恒公式计算新速度
应用弹性系数调整能量损失
边界反弹：
撞击边墙时速度法向分量取反
切向分量乘以弹性系数
伤害计算
当发生球体碰撞时：
判断碰撞双方是否为敌我关系
造成伤害值 = 攻击方攻击力 × 碰撞速度重叠量（建议速度差×0.1）
扣除被攻击方生命值（最低至0）
显示碰撞特效（如红色冲击波）
四、胜负判定系统
胜利条件
实时检测双方存活小球数量
当任意一方所有小球生命值归零时：
暂停游戏
在屏幕中央显示胜利/失败动画（建议3秒）
提供重新开始/退出选项
平局处理
设置全局回合计数器（建议最多10回合）
若回合结束时双方仍有存活小球：
比较双方剩余总生命值
总生命值较高方获胜
五、视觉与音效设计
视觉反馈
小球状态可视化：
生命值条环绕小球显示
攻击时显示短暂闪光效果
冷却时显示旋转动画
碰撞特效：
出现粒子爆破效果
被击中小球缩放抖动
音效设计
发射音效：短促的"嗖"声
碰撞音效：金属撞击声（根据碰撞力度调整音量）
击杀音效：爆炸声+对应颜色闪光
背景音乐：轻快的电子乐（胜利/失败时切换相应音乐）
六、测试与调整
平衡性测试
调整属性数值确保：
单次碰撞伤害不会过高导致秒杀
AI攻击频率与玩家操作频率均衡
弹性系数避免出现"永动机"现象
异常处理
防止小球卡入墙体的解决方案：
添加位置修正逻辑
设置最大速度阈值
处理多球同时碰撞的优先级问题